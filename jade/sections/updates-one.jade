section
  section
    h2 Timely updates
    h4 11. How could we easily update our numbers?

  section
    h4 Our data changes every x seconds... we better update the chart.

  section
    p We've changed the data source so that:
    ul
      li.fragment drawChart gets called once, the first time
      li.fragment every x seconds, updateChart gets called with new data

  section
    h3 Nothing changes in drawChart
    pre.fragment
      code.
        bars = chart.selectAll('rect')
            .data( data )
          .enter().append('rect')
            .attr('x', 0)
            .attr('width', 0)
            .attr('y', function(d, i) { return y(d.name) })
            .attr('height', y.rangeBand)u
            .style('fill', '#333');
      
        bars
          .transition()
            .duration(600)
            .attr('width', function(d, i) { return x(d.value) })
          .transition()
            .duration(400)
            .style('fill', 'black')

  section
    h3 UpdateChart..
    pre.fragment
      code.
        function updateChart(data) {
        
          bars
              .data(data)
            .transition()
              .duration(600)
              .attr('width', function(d, i) { return x(d.value) });
        
        }
  section
    p Animations make the updates easier to follow.